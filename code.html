<!DOCTYPE html>
<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Mountain Storm - Downhill Adventure</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&amp;family=Outfit:wght@300;600&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#7dd3fc", // A soft sky blue
              "background-light": "#f1f5f9",
              "background-dark": "#0f172a",
              "storm-base": "#1e293b",
              "storm-haze": "#475569",
            },
            fontFamily: {
              display: ["Outfit", "sans-serif"],
              sans: ["Inter", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "12px",
            },
            animation: {
              'lightning': 'lightning 8s infinite ease-in-out',
              'rain': 'rain 0.3s linear infinite',
              'float': 'float 3s ease-in-out infinite',
            },
            keyframes: {
              lightning: {
                '0%, 15%, 20%, 95%, 100%': { opacity: 0 },
                '16%, 18%': { opacity: 0.15 },
                '17%': { opacity: 0.4 },
              },
              rain: {
                '0%': { transform: 'translateY(-100%) translateX(10%) rotate(15deg)' },
                '100%': { transform: 'translateY(100%) translateX(-10%) rotate(15deg)' },
              },
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-5px)' },
              }
            }
          },
        },
      };
    </script>
<style>
        .rain-layer {
            background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0) 100%);
            width: 1px;
            height: 40px;
            position: absolute;
        }
        .fog-gradient {
            background: linear-gradient(to top, rgba(30, 41, 59, 1) 0%, rgba(71, 85, 105, 0.5) 40%, rgba(148, 163, 184, 0.1) 100%);
        }
        .cliff-shadow {
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
        }::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-sans min-h-screen transition-colors duration-300">
<header class="fixed top-0 left-0 right-0 z-50 p-6 flex justify-between items-center bg-transparent">
<div class="flex items-center space-x-4">
<button class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-all">
<span class="material-icons text-white">menu</span>
</button>
<div class="hidden md:block">
<span class="text-xs uppercase tracking-widest text-slate-400 font-semibold">Mountain Range</span>
<h2 class="text-xl font-display font-semibold text-white">Storm Peaks</h2>
</div>
</div>
<div class="flex-grow max-w-xl mx-8 relative">
<div class="h-1.5 w-full bg-white/10 rounded-full overflow-hidden backdrop-blur-sm">
<div class="h-full bg-primary w-2/3 shadow-[0_0_10px_#7dd3fc]"></div>
</div>
<div class="absolute -bottom-6 left-0 right-0 flex justify-between px-1">
<span class="text-[10px] font-bold text-white/50 tracking-tighter">START</span>
<div class="flex items-center space-x-1">
<span class="material-icons text-[10px] text-primary">flag</span>
<span class="text-[10px] font-bold text-white/50 tracking-tighter">CHECKPOINT 2</span>
</div>
<span class="text-[10px] font-bold text-white/50 tracking-tighter">END</span>
</div>
</div>
<div class="flex items-center space-x-6">
<div class="text-right">
<span class="text-[10px] uppercase tracking-widest text-slate-400 block font-bold">Distance</span>
<span id="distanceDisplay" class="text-2xl font-display font-semibold text-white">0</span><span class="text-sm text-slate-400">m</span>
</div>
<button class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-all">
<span class="material-icons text-white">pause</span>
</button>
</div>
</header>
<main class="relative w-full h-screen overflow-hidden bg-sky-200 flex items-center justify-center">
<canvas id="gameCanvas" class="absolute inset-0 z-20 w-full h-full"></canvas>
<div class="absolute inset-0 z-40 bg-white animate-lightning pointer-events-none opacity-20"></div>
<div class="absolute inset-0 z-30 pointer-events-none overflow-hidden opacity-20">
<div class="animate-rain absolute" style="left: 10%; top: -50px;"><div class="rain-layer"></div></div>
<div class="animate-rain absolute" style="left: 25%; top: -100px; animation-delay: 0.1s;"><div class="rain-layer"></div></div>
<div class="animate-rain absolute" style="left: 45%; top: -20px; animation-delay: 0.2s;"><div class="rain-layer"></div></div>
<div class="animate-rain absolute" style="left: 65%; top: -80px; animation-delay: 0.15s;"><div class="rain-layer"></div></div>
<div class="animate-rain absolute" style="left: 85%; top: -40px; animation-delay: 0.05s;"><div class="rain-layer"></div></div>
<div class="animate-rain absolute" style="left: 15%; top: 50%; animation-delay: 0.12s;"><div class="rain-layer"></div></div>
<div class="animate-rain absolute" style="left: 55%; top: 40%; animation-delay: 0.25s;"><div class="rain-layer"></div></div>
<div class="animate-rain absolute" style="left: 90%; top: 60%; animation-delay: 0.08s;"><div class="rain-layer"></div></div>
</div>
<div class="absolute inset-0 z-0 bg-[#87CEEB]">
<div class="absolute inset-0 bg-gradient-to-b from-[#B0E0F6] via-[#87CEEB] to-[#6BB6D6]"></div>
<div class="absolute inset-0" id="starfield"></div>
</div>
<div class="absolute bottom-12 left-0 right-0 z-50 flex justify-center space-x-6 pointer-events-none">
<div class="flex flex-col items-center space-y-2 group transition-all duration-300">
<div class="w-12 h-12 rounded-xl border border-white/20 bg-black/20 backdrop-blur-md flex items-center justify-center text-white/50 group-hover:text-primary transition-colors">
<span class="material-icons text-xl">keyboard_arrow_left</span>
</div>
<span class="text-[10px] text-white/40 font-bold tracking-widest uppercase">Left</span>
</div>
<div class="flex flex-col items-center space-y-2 group transition-all duration-300">
<div class="w-12 h-12 rounded-xl border border-white/20 bg-black/20 backdrop-blur-md flex items-center justify-center text-white/50 group-hover:text-primary transition-colors">
<span class="material-icons text-xl">keyboard_arrow_right</span>
</div>
<span class="text-[10px] text-white/40 font-bold tracking-widest uppercase">Right</span>
</div>
<div class="flex flex-col items-center space-y-2 group transition-all duration-300">
<div class="w-12 h-12 rounded-xl border border-white/20 bg-black/20 backdrop-blur-md flex items-center justify-center text-white/50 group-hover:text-primary transition-colors">
<span class="material-icons text-xl">keyboard_arrow_up</span>
</div>
<span class="text-[10px] text-white/40 font-bold tracking-widest uppercase">Jump</span>
</div>
<div class="flex flex-col items-center space-y-2 group transition-all duration-300">
<div class="w-10 h-10 rounded-xl border border-white/20 bg-black/20 backdrop-blur-md flex items-center justify-center text-white/50 group-hover:text-primary transition-colors">
<span class="text-xs font-bold">1-4</span>
</div>
<span class="text-[10px] text-white/40 font-bold tracking-widest uppercase">Tricks</span>
</div>
</div>
</main>
<aside class="fixed right-8 top-1/2 -translate-y-1/2 z-50 space-y-6 hidden lg:block">
<div class="flex flex-col items-center space-y-1">
<div class="w-1 bg-white/10 h-16 rounded-full relative overflow-hidden">
<div id="altitudeBar" class="absolute top-0 left-0 w-full bg-primary h-1/2 shadow-[0_0_8px_#7dd3fc]"></div>
</div>
<span class="text-[10px] font-bold text-white/30 rotate-90 my-8">ALTITUDE</span>
</div>
<div class="p-4 bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl flex flex-col space-y-4">
<div class="flex items-center space-x-3">
<div class="w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center">
<span class="material-icons text-amber-500 text-sm">auto_awesome</span>
</div>
<div>
<span class="text-[10px] text-slate-400 block leading-tight font-bold">MULTIPLIER</span>
<span id="multiplierDisplay" class="text-lg font-display text-white">x1.0</span>
</div>
</div>
<div class="h-px bg-white/5"></div>
<div class="flex items-center space-x-3">
<div class="w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center">
<span class="material-icons text-primary text-sm">speed</span>
</div>
<div>
<span class="text-[10px] text-slate-400 block leading-tight font-bold">SPEED</span>
<span id="speedDisplay" class="text-lg font-display text-white">0 <span class="text-[10px] font-sans">km/h</span></span>
</div>
</div>
<div class="h-px bg-white/5"></div>
<div class="flex items-center space-x-3">
<div class="w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center">
<span class="material-icons text-green-500 text-sm">stars</span>
</div>
<div>
<span class="text-[10px] text-slate-400 block leading-tight font-bold">SCORE</span>
<span id="scoreDisplay" class="text-lg font-display text-white">0</span>
</div>
</div>
</div>
</aside>
<div class="fixed bottom-10 left-10 z-50 flex flex-col space-y-1">
<div class="flex items-center space-x-2">
<div class="w-2 h-2 rounded-full bg-red-500 animate-pulse"></div>
<span class="text-[11px] font-bold text-white/60 tracking-widest uppercase">Warning: Storm Front</span>
</div>
<span class="text-sm text-white/40 font-light max-w-xs">Visibility reduced. Lightning activity high in the upper peaks.</span>
</div>

<div id="startOverlay" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-md">
<div class="bg-storm-base border border-white/20 rounded-2xl p-8 max-w-lg text-center space-y-6">
<h1 class="text-5xl font-display font-semibold text-primary">Mountain Storm</h1>
<h2 class="text-2xl font-display text-white">Downhill Trick Challenge</h2>
<div class="text-left space-y-2 bg-black/30 p-4 rounded-xl">
<div class="text-xs text-slate-400 uppercase tracking-wide mb-2">Controls</div>
<div class="text-sm text-slate-300">
<span class="font-bold text-primary">Space / ↑:</span> Jump over obstacles
</div>
<div class="text-xs text-slate-400 uppercase tracking-wide mt-3 mb-2">Tricks (press while in air)</div>
<div class="grid grid-cols-2 gap-2">
<div class="text-sm text-slate-300">
<span class="font-bold text-amber-400">1:</span> Backflip <span class="text-amber-500">(150pts)</span>
</div>
<div class="text-sm text-slate-300">
<span class="font-bold text-amber-400">2:</span> Frontflip <span class="text-amber-500">(150pts)</span>
</div>
<div class="text-sm text-slate-300">
<span class="font-bold text-amber-400">3:</span> 360 Spin <span class="text-amber-500">(200pts)</span>
</div>
<div class="text-sm text-slate-300">
<span class="font-bold text-amber-400">4:</span> Method Grab <span class="text-amber-500">(100pts)</span>
</div>
</div>
<div class="text-xs text-slate-400 uppercase tracking-wide mt-3 mb-1">Bonuses</div>
<div class="text-xs text-slate-400">
Chain multiple tricks • Land clean • Big air time • Build combos!
</div>
</div>
<div class="text-sm text-slate-400 italic">
Hit ramps to launch! Land tricks for points. Avoid obstacles or jump over them!
</div>
<div class="bg-black/30 p-4 rounded-xl">
<div class="text-xs text-slate-400 uppercase tracking-wide mb-3">Choose Your Skier Color</div>
<div id="colorPicker" class="flex justify-center gap-3">
<button type="button" data-color="#7dd3fc" class="skier-color w-10 h-10 rounded-full bg-[#7dd3fc] border-4 border-white shadow-lg transform scale-110" title="Cyan"></button>
<button type="button" data-color="#f87171" class="skier-color w-10 h-10 rounded-full bg-[#f87171] border-2 border-transparent hover:border-white/50 transition-all" title="Red"></button>
<button type="button" data-color="#4ade80" class="skier-color w-10 h-10 rounded-full bg-[#4ade80] border-2 border-transparent hover:border-white/50 transition-all" title="Green"></button>
<button type="button" data-color="#facc15" class="skier-color w-10 h-10 rounded-full bg-[#facc15] border-2 border-transparent hover:border-white/50 transition-all" title="Yellow"></button>
<button type="button" data-color="#c084fc" class="skier-color w-10 h-10 rounded-full bg-[#c084fc] border-2 border-transparent hover:border-white/50 transition-all" title="Purple"></button>
<button type="button" data-color="#fb923c" class="skier-color w-10 h-10 rounded-full bg-[#fb923c] border-2 border-transparent hover:border-white/50 transition-all" title="Orange"></button>
<button type="button" data-color="#f472b6" class="skier-color w-10 h-10 rounded-full bg-[#f472b6] border-2 border-transparent hover:border-white/50 transition-all" title="Pink"></button>
</div>
</div>
<button type="button" id="startBtn" class="w-full py-3 px-6 bg-primary text-slate-900 rounded-xl font-semibold hover:bg-primary/80 transition-colors text-lg">
Start Game
</button>
</div>
</div>

<script>
// Generate stars
window.addEventListener('DOMContentLoaded', () => {
    const starfield = document.getElementById('starfield');
    if (starfield) {
        const numStars = 100;
        for (let i = 0; i < numStars; i++) {
            const star = document.createElement('div');
            star.className = 'absolute rounded-full bg-white';
            const size = Math.random() * 2 + 1;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.left = `${Math.random() * 100}%`;
            star.style.top = `${Math.random() * 100}%`;
            star.style.opacity = Math.random() * 0.5 + 0.5;
            starfield.appendChild(star);
        }
    }
    
    // Color picker functionality
    window.selectedSkierColor = '#7dd3fc'; // Default color
    const colorButtons = document.querySelectorAll('.skier-color');
    colorButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            // Remove selection from all
            colorButtons.forEach(b => {
                b.classList.remove('border-white', 'border-4', 'scale-110', 'shadow-lg');
                b.classList.add('border-transparent', 'border-2');
            });
            // Add selection to clicked
            btn.classList.remove('border-transparent', 'border-2');
            btn.classList.add('border-white', 'border-4', 'scale-110', 'shadow-lg');
            // Store selected color
            window.selectedSkierColor = btn.dataset.color;
        });
    });
});
</script>
<script type="module" src="js/game.js?v=11"></script>
</body></html>